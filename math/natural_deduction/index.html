<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>自然演繹 | study_note</title>
  <meta name="author" content="raygo">
  <link rel="stylesheet" href="../../lib/css/bootstrap-reboot.css">
  <link rel="stylesheet" href="../../lib/css/style.css">
  <script type="text/javascript" src="../../lib/js/mathjax_config.js" Defer></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" Defer></script>
</head>

<body>
  <header>
    <h1>自然演繹</h1>
    <a href="../../">ホーム</a> -&gt; <a href="../">数学</a> -&gt; 自然演繹
  </header>
  <main>
    <h2>証明体系</h2>
    <p>
      証明体系は2つの方法を組み合わせることで作られている．1つ目は推論の方法についてであり，ヒルベルト流H，自然演繹N，シーケント計算Lの3つある．2つ目はどの推論規則を採用するかについてであり，最小論理M，直感主義論理J，古典論理Kの3つある．それぞれの組み合わせにより，HM，HJ，HK，NM，NJ，NK，LM，LJ，LKの9つの証明体系がよく知られている．自然演繹が初学者にとって分かりやすいのでそれを採用することとする．
    </p>
    <div class="you">
      それぞれの略文字はドイツ語が由来だよ<br>
      気になる人は調べてみてね
    </div>

    <h2>自然演繹</h2>
    <h3>証明図</h3>
    <p>
      推論の流れの表し方を考える．<ruby><dfn>推論図</dfn>
        <rt>inference diagram</rt>
      </ruby>とは推論の流れを木のように表す図である．ある推論規則では仮定を取り除く，<ruby><dfn>打ち消し</dfn>
        <rt>discharge</rt>
      </ruby>という操作がある．この操作や公理となる前提を用いることで，仮定とする前提がないとき，推論図を<ruby><dfn>証明図</dfn>
        <rt>proof diagram</rt>
      </ruby>という．
    </p>
    <dl>
      <h4>定義</h4>
      推論規則$\text{R}$が$\phi_1,\phi_2,\cdots,\phi_n\To\phi$であるとき，
      <dt>推論図</dt>
      <dd>
        $$\text{R}\infer{\phi}{\phi_1\quad\phi_2\quad\cdots\quad\phi_n}$$
      </dd>
    </dl>

    <h3>自然演繹</h3>
    <p>
      <ruby><dfn>自然演繹</dfn>
        <rt>natural deduction</rt>
      </ruby>とは証明を見つけやすく構造を視覚で理解しやすいようにするための体系である．証明図を使って論理式の演算(推論)を表していくことが特徴である．推論規則は各論理演算子についての<ruby><dfn>挿入</dfn>
        <rt>insert</rt>
      </ruby>と<ruby><dfn>除去</dfn>
        <rt>erase</rt>
      </ruby>の規則から成り立っている．
    </p>

    <h2>自然演繹の推論規則</h2>
    <h3>$\to$の推論規則</h3>
    <p>
      $\phi\to\psi$は$\phi$ならば$\psi$であることを意味するが，言い直せば，$\phi$が成り立つときは$\psi$が成り立つ．これに$\phi$が成り立つという情報があれば，$\psi$が成り立つことがわかる．つまり次の推論が成り立つ．
      $$\phi,\phi\to\psi\To\psi$$
      これは<ruby><dfn>構成的仮言的三段論法</dfn>
        <rt>modus ponens</rt>
      </ruby>という名前で知られる．また，$\to,\sequent$はそれぞれ同じ意味として扱いたいので，
      $$\p{\phi\sequent\psi}\To\p{\sequent\phi\to\psi}$$
      を認めるとする．この推論規則を用いるときは，仮定に使った論理式を打ち消しする．つまり，
      $$\infer{\psi}{\infer{\vdots}{\phi}}\To\infer[i]{\phi\to\psi}{\infer{\psi}{\infer{\vdots}{\infer[i]{\phi}{}}}}$$
      としてよい．まとめると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\to\text{I}$</dt>
      <dd>$$\to\text{I}\infer[i]{\phi\to\psi}{\infer{\psi}{\infer{\vdots}{\infer[i]{\phi}{}}}}$$</dd>
      <dt>$\to\text{E}$</dt>
      <dd>$$\to\text{E}\infer{\psi}{\phi\quad\phi\to\psi}$$</dd>
    </dl>
    <div class="you">
      推論規則名のIとEはそれぞれInsert，Eraseを意味してるよ
    </div>
    <div class="me">
      結局推論規則ってどう使うの？
    </div>
    <div class="you">
      実際にこの推論規則のみを使って推論してみようか
    </div>
    <aside>
      <h4>推論図を使った推論の例</h4>
      $A$，$A\to B$，$A\to B\to C$を前提として推論をする．
      $$\to\text{E}\infer{C}{\to\text{E}\infer{B}{A\quad A\to B}\quad\to\text{E}\infer{B\to
      C}{A\quad A\to B\to C}}$$
      よって，$A,A\to B,A\to B\to C\sequent C$である．
    </aside>
    <div class="me">
      分数みたいな棒の上から下に推論規則を適用させればいいんだね<br>
      もう一個の規則は使わないの？
    </div>
    <div class="you">
      もう一個の規則は推論規則の中でも重要なもので唯一前提を消せるんだ<br>
      これは証明図を書くときに絶対使うよ
    </div>
    <aside>
      <h4>証明図を使った証明の例</h4>
      $$\to\text{I}\infer[2]{A\to\p{A\to B}\to B}{\to\text{I}\infer[1]{\p{A\to
      B}\to B}{\to\text{E}\infer{B}{\infer[2]{A}{}\quad \infer[1]{A\to
      B}{}}}}$$
      よって，$\sequent A\to\p{A\to B}\to B$である．
    </aside>
    <p>
      打ち消しに使った数字は数字である必要はなく，順序にも意味はない．打ち消し時の推論でどの打ち消し線が引かれたかが分かればどんな記号を用いてもよい．複数の前提が同じ論理式であるときは一度の推論で同時に打ち消すことも可能である．裏を返せば，使用していない前提を推論で導入することができる．また，使用した推論規則は明らかなので，明記する必要はない．
    </p>
    <aside>
      <h4>ルールの例</h4>
      $$\infer[-1.5]{\p{A\to A\to B}\to A\to B\to B}{\infer[\star]{A\to B\to
      B}{\infer[0]{B\to B}{\infer{B}{\infer[\star]{A}{}\quad\infer{A\to
      B}{\infer[\star]{A}{}\quad\infer[-1.5]{A\to A\to B}{}}}}}}$$
    </aside>
    <div class="you">
      分かりづらいから，1から順番に使ってね
    </div>
    <p>
      推論した命題
    </p>

    <h3>$\land$と$\lor$の推論規則</h3>
    <p>
      $\phi_1\land\phi_2$は$\phi_1$であり$\phi_2$であることを意味するが，$\phi_1$と$\phi_2$が前提のとき$\phi_1\land\phi_2$が演繹できることがわかる．また，$\phi_1\land\phi_2$からは$\phi_1$と$\phi_2$のそれぞれが演繹できる．
    </p>
    <p>
      $\phi_1\lor\phi_2$は$\phi_1$または$\phi_2$であることを意味するが，どちらか一方でも成り立てばいいので，$\phi_1$か$\phi_2$が前提のとき$\phi_1\lor\phi_2$が演繹できることがわかる．また，$\phi_1\lor\phi_2$からは$\phi_1$と$\phi_2$で場合分けしたあと，それぞれについて$\psi$を演繹できれば，$\phi_1\lor\phi_2$から$\psi$が演繹できる．まとめると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\land\text{I}$</dt>
      <dd>$$\land\text{I}\infer{\phi_1\land\phi_2}{\phi_1\quad\phi_2}$$</dd>
      <dt>$\land\text{E}$</dt>
      <dd>$$\land\text{E}\infer{\phi_1}{\phi_1\land\phi_2}\qquad\infer{\phi_2}{\phi_1\land\phi_2}$$</dd>
      <dt>$\lor\text{I}$</dt>
      <dd>$$\lor\text{I}\infer{\phi_1\lor\phi_2}{\phi_1}\qquad\infer{\phi_1\lor\phi_2}{\phi_1}$$</dd>
      <dt>$\lor\text{E}$</dt>
      <dd>$$\lor\text{E}\infer{\psi}{\phi_1\lor\phi_2\quad\phi_1\to\psi\quad\phi_2\to\psi}$$</dd>
    </dl>

    <h3>$\forall$と$\exists$の推論規則</h3>
    <p>
      $\forall$はすべてについて成り立つという意味だが，これは対象の集合$\set{a_1,a_2,\cdots}$の元すべてで成り立つという意味である．また，$\exists$も成り立つ元が一つ以上あるという意味である．つまり，
      $$\forall F\p{x}\Iff F\p{a_1}\land F\p{a_2}\land\cdots$$
      $$\exists F\p{x}\Iff F\p{a_1}\lor F\p{a_2}\land\cdots$$
      と書きたいが，これだと無限に列挙することになってしまうため量化子を用いて表しているに過ぎない．これをもとに推論規則を定義すると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\forall\text{I}$</dt>
      <dd>
        $$\infer{\forall x,F\p{x}}{F\p{a}}$$
        ただし，自由変数$a$は$F\p{a}$を導く仮定と$\forall x,F\p{x}$の自由変数に含まれていない．
      </dd>
      <dt>$\forall\text{E}$</dt>
      <dd>$$\infer{F\p{t}}{\forall x,F\p{x}}$$</dd>
      <dt>$\exists\text{I}$</dt>
      <dd>$$\infer{\exists x,F\p{x}}{F\p{t}\to\phi}$$</dd>
      <dt>$\exists\text{E}$</dt>
      <dd>
        $$\infer{\psi}{\exists x,F\p{x}\quad F\p{a}\to\phi}$$
        ただし，自由変数$a$は$F\p{a}$から$\phi$を導く仮定と$\exists x,F\p{x}$と$F\p{t}$と$\phi$の自由変数に含まれていない．
      </dd>
    </dl>

    <h3>$\lnot$の推論規則</h3>
    <p>
      $\lnot\phi$は$\phi$でないことを意味する．背理法の論法を推論規則に定める．また，$\phi$とその否定$\lnot\phi$から矛盾$\bot$を演繹できるとする．まとめると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\lnot\text{I}$</dt>
      <dd>$$\infer{\lnot\phi}{\phi\to\bot}$$</dd>
      <dt>$\lnot\text{E}$</dt>
      <dd>$$\infer{\bot}{\phi\quad\lnot\phi}$$</dd>
    </dl>
    <p>
      しかし，これは$\lnot\phi$が$\phi\to\bot$と定義しているに過ぎない．実際に置き換えてみても自然である．
    </p>
    <div class="you">
      結局，$\bot$が何なのかわかってないから，$\lnot$もどういうものなのか分からないままなんだ<br>
      これでも十分いろいろな命題を証明できるよ
    </div>

    <h2>論理体系</h2>
    <p>
      これらの推論規則のみからなる論理体系を<ruby><dfn>最小論理</dfn>
        <rt>minimal logic</rt>
      </ruby>という．この論理体系では今後紹介する双対性すら成り立たない．これに，<ruby><dfn>選言的三段論法</dfn>
        <rt>disjunctive syllogism</rt>
      </ruby>を満たす公理を追加すると，<ruby><dfn>直感主義論理</dfn>
        <rt>intuitionistic logic</rt>
      </ruby>(<dfn>直感論理</dfn>，<ruby><dfn>構成的論理</dfn>
        <rt>constructive logic</rt>
      </ruby>)という論理体系になる．さらに，<ruby><dfn>排中律</dfn>
        <rt>law of excluded middle</rt>
      </ruby>という公理を追加すると，<ruby><dfn>古典論理</dfn>
        <rt>classical logic</rt>
      </ruby>(<ruby><dfn>標準論理</dfn>
        <rt>standard logic</rt>
      </ruby>)という論理体系になる．一般的な数学では古典論理が採用されているため，古典論理で成り立つ範囲について扱う．また，<ruby><dfn>二重否定の除去</dfn>
        <rt>double negative elimination</rt>
      </ruby>は「選言的三段論法かつ排中律」と等価であるとして知られているため，最小論理に二重否定の除去を推論規則として古典論理を構成することもある．等価であることの証明は後で行う．
    </p>
    <dl>
      <h4>公理</h4>
      <dt>選言的三段論法</dt>
      <dd>$$\p{\phi\lor\psi}\land\lnot\psi\to\phi$$</dd>
      <dt>排中律</dt>
      <dd>$$\phi\lor\lnot\psi$$</dd>
      <dt>二重否定の除去</dt>
      <dd>$$\lnot\lnot\phi\to\phi$$</dd>
    </dl>
    <div class="me">
      さっき，二重否定の除去は推論規則って言っていたのに，なんで公理として紹介してるの？<br>
      あと，選言的三段論法も名前から推論規則のような感じがするんだけど
    </div>
    <div class="you">
      いいところに気が付いたね<br>
      そこに疑問を抱けるのはちゃんと感覚に頼らずに論理を追えている証拠よ<br>
      実のところ，推論規則と$\to$を含む公理は扱いが同じなんだ<br>
      理由として次の命題を証明してみよう
    </div>

    <h3>演繹定理</h3>
    <p>
      推論と命題を自由に変換するために，<ruby><dfn>演繹定理</dfn>
        <rt>deduction theorem</rt>
      </ruby>を用いる．
    </p>
    <dl>
      <h4>定理</h4>
      <dt>演繹定理</dt>
      <dd>$$\Gamma,\phi\sequent\psi\Iff\Gamma\sequent\phi\to\psi$$</dd>
    </dl>
    <details>
      <summary>演繹定理の証明</summary>
      <p>
        $$\Gamma,\phi\sequent\psi\Iff\Gamma\sequent\phi\to\psi$$
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          $\p{\To}$$\to\text{I}$そのものである．
        </p>
        <p>
          $\p{\rTo}$前提に$\phi$を追加する．
          $$\phi,\phi\to\psi\To\psi$$
          であるから，
          $$\Gamma,\phi\sequent\psi$$
          が成り立つ．
        </p>
        <p>
          よって，
          $$\Gamma,\phi\sequent\psi\Iff\Gamma\sequent\phi\to\psi$$
        </p>
      </details>
    </details>
    <div class="you">
      この命題によって，$\phi$から$\psi$を演繹できたとき，$\phi\to\psi$って書けることを意味してるから，推論と$\to$が含まれる命題に違いがないことがわかるね
    </div>
    <div class="me">
      せっかく証明図を勉強したのに，使わないで証明しちゃうの？
    </div>
    <div class="you">
      これは$\sequent$が入っていて，対象が論理式ではないから，自然演繹では扱えない<br>
      この定理の証明は，今行っている体系を組み立てて，論理体系を定義し直した時に，初めて論理的に証明できる<br>
      演繹定理を使わなくても複雑になるけど同じ命題を証明できるから数学を構成する上では問題ないよ
    </div>

    <h3>爆発律</h3>
    <p>
      <ruby><dfn>爆発律</dfn>
        <rt>principle of explosion</rt>
      </ruby>は矛盾からは任意の命題が導けるという推論規則で，感覚的には間違えてそうである．
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>爆発律</dt>
      <dd>$$\infer{\phi}{\bot}$$</dd>
      <h4>定理</h4>
      <dt>爆発律と選言的三段論法の同値性</dt>
      <dd>最小論理上で爆発律と選言的三段論法と等価な命題である．</dd>
    </dl>
    <p>
      爆発律と選言的三段論法の同値性を証明するには<ruby><dfn>同一律</dfn>
        <rt>law of identity</rt>
      </ruby>が必要である．
    </p>
    <dl>
      <h4>定理</h4>
      <dt>同一律</dt>
      <dd>$$\phi\to\phi$$</dd>
    </dl>
    <details>
      <summary>同一律の証明</summary>
      <p>
        $$\phi\to\phi$$
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          $$\infer[1]{\phi\to\phi}{\infer[1]{\phi}{}}$$
        </p>
      </details>
    </details>
    <details>
      <summary>爆発律と選言的三段論法の同値性の証明</summary>
      <p>
        最小論理上で爆発律と選言的三段論法と等価な命題である．
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          最小論理を用いて，爆発律から選言的三段論法，選言的三段論法から爆発律をそれぞれ推論すればよい．
        </p>
        <p>
          最小論理と爆発律を用いて選言的三段論法を導出する．
          $$\infer[2]{\p{\phi\lor\psi}\land\lnot\psi\to\phi}{\infer{\phi}{\infer{\phi\lor\psi}{\infer[2]{\p{\phi\lor\psi}\land\lnot\psi}{}}\quad\phi\to\phi\quad\infer[1]{\psi\to\phi}{\infer{\phi}{\infer{\bot}{\infer[1]{\psi}{}\quad\infer{\lnot\psi}{\infer[2]{\p{\phi\lor\psi}\land\lnot\psi}{}}}}}}}$$
        </p>
        <p>
          最小論理と選言的三段論法を用いて爆発律を導出する．
          $$\infer[1]{\bot\to\phi}{\infer{\phi}{\infer{\p{\phi\lor\bot}\land\lnot\bot}{\infer{\phi\lor\bot}{\infer[2]{\bot}{}}\quad\infer{\lnot}{\bot\to\bot}}\quad\p{\phi\lor\bot}\land\lnot\bot\to\phi}}$$
        </p>
      </details>
    </details>
  </main>
  <footer>Copyright &copy; raygo All Rights Reserved since 2016.</footer>
</body>

</html>