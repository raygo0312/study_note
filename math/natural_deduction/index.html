<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>自然演繹 | study_note</title>
  <meta name="author" content="raygo">
  <link rel="stylesheet" href="../../lib/css/bootstrap-reboot.css">
  <link rel="stylesheet" href="../../lib/css/style.css">
  <script type="text/javascript" src="../../lib/js/mathjax_config.js" Defer></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" Defer></script>
</head>

<body>
  <header>
    <h1>自然演繹</h1>
    <a href="../../">ホーム</a> -&gt; <a href="../">数学</a> -&gt; 自然演繹
  </header>
  <main>
    <h2>証明体系</h2>
    <p>
      証明体系は2つの方法を組み合わせることで作られている．1つ目は推論の方法についてであり，ヒルベルト流H，自然演繹N，シーケント計算Lの3つある．2つ目はどの推論規則を採用するかについてであり，最小論理M，直感主義論理J，古典論理Kの3つある．それぞれの組み合わせにより，HM，HJ，HK，NM，NJ，NK，LM，LJ，LKの9つの証明体系がよく知られている．自然演繹が初学者にとって分かりやすいのでそれを採用することとする．
    </p>
    <div class="you">
      それぞれの略文字はドイツ語が由来だよ<br>
      気になる人は調べてみてね
    </div>

    <h2>自然演繹</h2>
    <h3>証明図</h3>
    <p>
      推論の流れの表し方を考える．<ruby><dfn>推論図</dfn>
        <rt>inference diagram</rt>
      </ruby>とは推論の流れを木のように表す図である．ある推論規則では仮定を取り除く，<ruby><dfn>打ち消し</dfn>
        <rt>discharge</rt>
      </ruby>という操作がある．この操作や公理となる前提を用いることで，仮定とする前提がないとき，推論図を<ruby><dfn>証明図</dfn>
        <rt>proof diagram</rt>
      </ruby>という．
    </p>
    <dl>
      <h4>定義</h4>
      推論規則$\mathrm{R}$が$A_1,A_2,\cdots,A_n\To A$であるとき，
      <dt>推論図</dt>
      <dd>
        $$\mathrm{R}\infer{A}{A_1\quad A_2\quad\cdots\quad A_n}$$
      </dd>
    </dl>

    <h3>自然演繹</h3>
    <p>
      <ruby><dfn>自然演繹</dfn>
        <rt>natural deduction</rt>
      </ruby>とは証明を見つけやすく構造を視覚で理解しやすいようにするための体系である．証明図を使って論理式の演算(推論)を表していくことが特徴である．推論規則は各論理演算子についての<ruby><dfn>挿入</dfn>
        <rt>insert</rt>
      </ruby>と<ruby><dfn>除去</dfn>
        <rt>erase</rt>
      </ruby>の規則から成り立っている．
    </p>

    <h2>自然演繹の推論規則</h2>
    <h3>$\to$の推論規則</h3>
    <p>
      $A\to B$は$A$ならば$B$であることを意味するが，言い直せば，$A$が成り立つときは$B$が成り立つ．これに$A$が成り立つという情報があれば，$B$が成り立つことがわかる．つまり次の推論が成り立つ．
      $$A,A\to B\To B$$
      これは<ruby><dfn>構成的仮言的三段論法</dfn>
        <rt>modus ponens</rt>
      </ruby>という名前で知られる．また，$\to,\sequent$はそれぞれ同じ意味として扱いたいので，
      $$\p{A\sequent B}\To\p{\sequent A\to B}$$
      を認めるとする．この推論規則を用いるときは，仮定に使った論理式を打ち消しする．つまり，
      $$\infer{B}{\infer{\vdots}{A}}\To\infer[i]{A\to B}{\infer{B}{\infer{\vdots}{\infer[i]{A}{}}}}$$
      としてよい．まとめると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\to\mathrm{I}$</dt>
      <dd>$$\to\mathrm{I}\infer[i]{A\to B}{\infer{B}{\infer{\vdots}{\infer[i]{A}{}}}}$$</dd>
      <dt>$\to\mathrm{E}$</dt>
      <dd>$$\to\mathrm{E}\infer{B}{A\quad A\to B}$$</dd>
    </dl>
    <div class="you">
      推論規則名のIとEはそれぞれInsert，Eraseを意味してるよ
    </div>
    <div class="me">
      結局推論規則ってどう使うの？
    </div>
    <div class="you">
      実際にこの推論規則のみを使って推論してみようか
    </div>
    <aside>
      <h4>推論図を使った推論の例</h4>
      $A,A\to B,A\to B\to C$を前提として推論をする．
      $$\to\mathrm{E}\infer{C}{\to\mathrm{E}\infer{B}{A\quad A\to B}\quad\to\mathrm{E}\infer{B\to
      C}{A\quad A\to B\to C}}$$
      よって，$A,A\to B,A\to B\to C\sequent C$である．
    </aside>
    <div class="me">
      分数みたいな棒の上から下に推論規則を適用させればいいんだね<br>
      もう一個の規則は使わないの？
    </div>
    <div class="you">
      もう一個の規則は推論規則の中でも重要なもので唯一前提を消せるんだ<br>
      これは証明図を書くときに絶対使うよ
    </div>
    <aside>
      <h4>証明図を使った証明の例</h4>
      $$\to\mathrm{I}\infer[2]{A\to\p{A\to B}\to B}{\to\mathrm{I}\infer[1]{\p{A\to
      B}\to B}{\to\mathrm{E}\infer{B}{\infer[2]{A}{}\quad \infer[1]{A\to
      B}{}}}}$$
      よって，$\sequent A\to\p{A\to B}\to B$である．
    </aside>
    <p>
      打ち消しに使った数字は数字である必要はなく，順序にも意味はない．打ち消し時の推論でどの打ち消し線が引かれたかが分かればどんな文字を用いてもよい．複数の前提が同じ論理式であるときは一度の推論で同時に打ち消すことも可能である．裏を返せば，使用していない前提を推論で導入することができる．また，使用した推論規則は明らかなので，明記する必要はない．
    </p>
    <aside>
      <h4>ルールの例</h4>
      $$\infer[-1.5]{\p{A\to A\to B}\to A\to B\to B}{\infer[\star]{A\to B\to
      B}{\infer[0]{B\to B}{\infer{B}{\infer[\star]{A}{}\quad\infer{A\to
      B}{\infer[\star]{A}{}\quad\infer[-1.5]{A\to A\to B}{}}}}}}$$
    </aside>
    <div class="you">
      分かりづらいから，1から順番に使ってね
    </div>
    <p>
      推論した命題
    </p>

    <h3>$\land$と$\lor$の推論規則</h3>
    <p>
      $A_1\land A_2$は$A_1$であり$A_2$であることを意味するが，$A_1$と$A_2$が前提のとき$A_1\land A_2$が演繹できることがわかる．また，$A_1\land
      A_2$からは$A_1$と$A_2$のそれぞれが演繹できる．
    </p>
    <p>
      $A_1\lor A_2$は$A_1$または$A_2$であることを意味するが，どちらか一方でも成り立てばいいので，$A_1$か$A_2$が前提のとき$A_1\lor A_2$が演繹できることがわかる．また，$A_1\lor
      A_2$からは$A_1$と$A_2$で場合分けしたあと，それぞれについて$B$を演繹できれば，$A_1\lor A_2$から$B$が演繹できる．まとめると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\land\mathrm{I}$</dt>
      <dd>$$\infer{A_1\land A_2}{A_1\quad A_2}$$</dd>
      <dt>$\land\mathrm{E}$</dt>
      <dd>$$\infer{A_1}{A_1\land A_2}\qquad\infer{A_2}{A_1\land A_2}$$</dd>
      <dt>$\lor\mathrm{I}$</dt>
      <dd>$$\infer{A_1\lor A_2}{A_1}\qquad\infer{A_1\lor A_2}{A_1}$$</dd>
      <dt>$\lor\mathrm{E}$</dt>
      <dd>$$\infer{B}{A_1\lor A_2\quad A_1\to B\quad A_2\to B}$$</dd>
    </dl>

    <h3>$\forall$と$\exists$の推論規則</h3>
    <p>
      $\forall$はすべてについて成り立つという意味だが，これは対象の集合$\set{a_1,a_2,\cdots}$の元すべてで成り立つという意味である．また，$\exists$も成り立つ元が一つ以上あるという意味である．つまり，
      $$\forall F\p{x}\Iff F\p{a_1}\land F\p{a_2}\land\cdots$$
      $$\exists F\p{x}\Iff F\p{a_1}\lor F\p{a_2}\lor\cdots$$
      と書きたいが，これだと無限に列挙することになってしまうため量化子を用いて表しているに過ぎない．これをもとに推論規則を定義すると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\forall\mathrm{I}$</dt>
      <dd>
        $$\infer{\forall x,F\p{x}}{F\p{a}}$$
        ただし，自由変数$a$は$F\p{a}$を導く仮定と$\forall x,F\p{x}$の自由変数に含まれていない．
      </dd>
      <dt>$\forall\mathrm{E}$</dt>
      <dd>$$\infer{F\p{t}}{\forall x,F\p{x}}$$</dd>
      <dt>$\exists\mathrm{I}$</dt>
      <dd>$$\infer{\exists x,F\p{x}}{F\p{t}}$$</dd>
      <dt>$\exists\mathrm{E}$</dt>
      <dd>
        $$\infer{B}{\exists x,F\p{x}\quad F\p{a}\to A}$$
        ただし，自由変数$a$は$F\p{a}$から$A$を導く仮定と$\exists x,F\p{x}$と$F\p{t}$と$A$の自由変数に含まれていない．
      </dd>
    </dl>

    <h3>$\lnot$の推論規則</h3>
    <p>
      $\lnot A$は$A$でないことを意味する．背理法の論法を推論規則に定める．また，$A$とその否定$\lnot A$から矛盾$\bot$を演繹できるとする．まとめると，
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>$\lnot\mathrm{I}$</dt>
      <dd>$$\infer{\lnot A}{A\to\bot}$$</dd>
      <dt>$\lnot\mathrm{E}$</dt>
      <dd>$$\infer{\bot}{A\quad\lnot A}$$</dd>
    </dl>
    <p>
      しかし，これは$\lnot A$が$A\to\bot$と定義しているに過ぎない．実際に置き換えてみても自然である．
    </p>
    <div class="you">
      結局，$\bot$が何なのかわかってないから，$\lnot$もどういうものなのか分からないままなんだ<br>
      これでも十分いろいろな命題を証明できるよ
    </div>

    <h3>推論規則の別表記</h3>
    <p>
      これらの推論規則には二つの問題点がある．一つ目はそれぞれの文字に対して$\to$を推論規則に含めている場合があること．これはもしこの論理体系で$\to$を使用しない場合にこの推論規則を使用することができない．二つ目は冗長であること．ほとんどの場合，$\to$からの推論をするために，$\to$を作る必要がある．そのために$\to\mathrm{I}$を一緒に使用することが多い．これをまとめて1つの推論規則とするほうが都合がいい．
    </p>
    <dl>
      <h4>推論規則(代替)</h4>
      <dt>$\lor\mathrm{E}$</dt>
      <dd>$$\infer[i]{B}{A_1\lor
        A_2\quad\infer{B}{\infer{\vdots}{\infer[i]{A_1}{}}}\quad\infer{B}{\infer{\vdots}{\infer[i]{A_2}{}}}}$$</dd>
      <dt>$\exists\mathrm{E}$</dt>
      <dd>$$\infer[i]{B}{\exists x,F\p{x}\quad\infer{B}{\infer{\vdots}{\infer[i]{F\p{a}}{}}}}$$</dd>
      <dt>$\lnot\mathrm{I}$</dt>
      <dd>$$\infer[i]{\lnot A}{\infer{\bot}{\infer{\vdots}{\infer[i]{A}{}}}}$$</dd>
    </dl>

    <h2>論理体系</h2>
    <p>
      これらの推論規則のみからなる論理体系を<ruby><dfn>最小論理</dfn>
        <rt>minimal logic</rt>
      </ruby>という．この論理体系では今後紹介する双対性すら成り立たない．これに，<ruby><dfn>選言的三段論法</dfn>
        <rt>disjunctive syllogism</rt>
      </ruby>を満たす公理を追加すると，<ruby><dfn>直感主義論理</dfn>
        <rt>intuitionistic logic</rt>
      </ruby>(<dfn>直感論理</dfn>，<ruby><dfn>構成的論理</dfn>
        <rt>constructive logic</rt>
      </ruby>)という論理体系になる．さらに，<ruby><dfn>排中律</dfn>
        <rt>law of excluded middle</rt>
      </ruby>という公理を追加すると，<ruby><dfn>古典論理</dfn>
        <rt>classical logic</rt>
      </ruby>(<ruby><dfn>標準論理</dfn>
        <rt>standard logic</rt>
      </ruby>)という論理体系になる．一般的な数学では古典論理が採用されているため，古典論理で成り立つ範囲について扱う．また，<ruby><dfn>二重否定の除去</dfn>
        <rt>double negative elimination</rt>
      </ruby>は「選言的三段論法かつ排中律」と等価であるとして知られているため，最小論理に二重否定の除去を推論規則として古典論理を構成することもある．等価であることの証明は後で行う．
    </p>
    <dl>
      <h4>公理</h4>
      <dt>選言的三段論法</dt>
      <dd>$$\p{A\lor B}\land\lnot B\to A$$</dd>
      <dt>排中律</dt>
      <dd>$$A\lor\lnot B$$</dd>
      <dt>二重否定の除去</dt>
      <dd>$$\lnot\lnot A\to A$$</dd>
    </dl>
    <div class="me">
      さっき，二重否定の除去は推論規則って言っていたのに，なんで公理として紹介してるの？<br>
      あと，選言的三段論法も名前から推論規則のような感じがするんだけど
    </div>
    <div class="you">
      いいところに気が付いたね<br>
      そこに疑問を抱けるのはちゃんと感覚に頼らずに論理を追えている証拠よ<br>
      実のところ，推論規則と$\to$を含む公理は扱いが同じなんだ<br>
      理由として次の命題を証明してみよう
    </div>

    <h3>演繹定理</h3>
    <p>
      推論と命題を自由に変換するために，<ruby><dfn>演繹定理</dfn>
        <rt>deduction theorem</rt>
      </ruby>を用いる．
    </p>
    <dl>
      <h4>定理</h4>
      <dt>演繹定理</dt>
      <dd>$$\Gamma,A\sequent B\Iff\Gamma\sequent A\to B$$</dd>
    </dl>
    <details>
      <summary>演繹定理の証明</summary>
      <p>
        $$\Gamma,A\sequent B\Iff\Gamma\sequent A\to B$$
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          $\p{\To}$$\to\mathrm{I}$そのものである．
        </p>
        <p>
          $\p{\rTo}$前提に$A$を追加する．
          $$A,A\to B\To B$$
          であるから，
          $$\Gamma,A\sequent B$$
          が成り立つ．
        </p>
      </details>
    </details>
    <div class="you">
      この命題によって，$A$から$B$を演繹できたとき，$A\to B$って書けることを意味してるから，推論と$\to$が含まれる命題に違いがないことがわかるね
    </div>
    <div class="me">
      せっかく証明図を勉強したのに，使わないで証明しちゃうの？
    </div>
    <div class="you">
      これは$\sequent$が入っていて，対象が論理式ではないから，自然演繹では扱えない<br>
      この定理の証明は今行っている体系を組み立てて，論理体系を定義し直した時に，初めて論理的に証明できる<br>
      演繹定理を使わなくても複雑になるけど同じ命題を証明できるから数学を構成する上では問題ないよ
    </div>

    <h3>爆発律</h3>
    <p>
      <ruby><dfn>爆発律</dfn>
        <rt>principle of explosion</rt>
      </ruby>は矛盾からは任意の命題が導けるという推論規則で，感覚的には間違えてそうである．
    </p>
    <dl>
      <h4>推論規則</h4>
      <dt>爆発律</dt>
      <dd>$$\infer{A}{\bot}$$</dd>
      <h4>定理</h4>
      <dt>爆発律と選言的三段論法の等価性</dt>
      <dd>最小論理上で爆発律と選言的三段論法と等価である．</dd>
    </dl>
    <p>
      爆発律と選言的三段論法の等価性を証明するには<ruby><dfn>同一律</dfn>
        <rt>law of identity</rt>
      </ruby>が必要である．
    </p>
    <dl>
      <h4>定理</h4>
      <dt>同一律</dt>
      <dd>$$A\to A$$</dd>
    </dl>
    <details>
      <summary>同一律の証明</summary>
      <p>
        $$A\to A$$
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          $$\infer[1]{A\to A}{\infer[1]{A}{}}$$
        </p>
      </details>
    </details>
    <details>
      <summary>爆発律と選言的三段論法の等価性の証明</summary>
      <p>
        最小論理上で爆発律と選言的三段論法と等価である．
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          最小論理を用いて，爆発律から選言的三段論法，選言的三段論法から爆発律をそれぞれ推論すればよい．
        </p>
        <p>
          最小論理と爆発律を用いて選言的三段論法を導出する．
          $$\infer[2]{\p{A\lor B}\land\lnot B\to A}{\infer{A}{\infer{A\lor B}{\infer[2]{\p{A\lor B}\land\lnot B}{}}\quad
          A\to A\quad\infer[1]{B\to A}{\infer{A}{\infer{\bot}{\infer[1]{B}{}\quad\infer{\lnot B}{\infer[2]{\p{A\lor
          B}\land\lnot B}{}}}}}}}$$
        </p>
        <p>
          最小論理と選言的三段論法を用いて爆発律を導出する．
          $$\infer[1]{\bot\to
          A}{\infer{A}{\infer{\p{A\lor\bot}\land\lnot\bot}{\infer{A\lor\bot}{\infer[2]{\bot}{}}\quad\infer{\lnot}{\bot\to\bot}}\quad\p{A\lor\bot}\land\lnot\bot\to
          A}}$$
        </p>
      </details>
    </details>

    <h3>二重否定の除去</h3>
    <p>
      選言的三段論法の代わりに爆発律を用いて次の定理を証明する．
    </p>
    <dl>
      <h4>定理</h4>
      <dt>爆発律，排中律と二重否定の除去の等価性</dt>
      <dd>最小論理上で爆発律，排中律と二重否定の除去は等価である．</dd>
    </dl>
    <details>
      <summary>爆発律，排中律と二重否定の除去の等価性の証明</summary>
      <p>
        最小論理上で爆発律と選言的三段論法と等価である．
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          最小論理を用いて，爆発律と排中律から二重否定の除去，二重否定の除去から爆発律と排中律をそれぞれ推論すればよい．
        </p>
        <p>
          最小論理と爆発律と排中律を用いて二重否定の除去を導出する．
          $$\infer[2]{\lnot\lnot A\to A}{\infer{A}{A\land\lnot A\quad A\to A\quad\infer[1]{\lnot A\to
          A}{\infer{A}{\infer{\bot}{\infer[1]{\lnot A}{}\quad\infer[2]{\lnot\lnot A}{}}}}}}$$
        </p>
        <p>
          最小論理と二重否定の除去を用いて爆発律を導出する．まず補題$B\to A\to B$を証明する．
          $$\infer[2]{B\to A\to B}{\infer[1]{A\to B}{\infer{B}{\infer{A\land B}{\infer[1]{A}{}\quad\infer[2]{B}{}}}}}$$
          この補題より$B\sequent A\to B$であり，必要としない命題を前提として追加してもよいという推論である．この$B$を$\bot$として利用する．
          $$\infer[2]{\bot\to\lnot\lnot A}{\infer{\lnot\lnot A}{\infer[1]{\lnot
          A\to\bot}{\infer{\bot}{\infer[1]{A}{}\quad\infer{A\to\bot}{\infer[2]{\bot}{}}}}}}$$
        </p>
        <p>
          最小論理と二重否定の除去を用いて排中律を導出する．
          $$\infer{A\lor\lnot A}{\infer{\lnot\lnot\p{A\lor\lnot A}}{\infer[2]{\lnot\p{A\lor\lnot
          A}\to\bot}{\infer{\bot}{\infer{A\lor\lnot A}{\infer{\lnot
          A}{\infer[1]{A\to\bot}{\infer{\bot}{\infer{A\lor\lnot A}{\infer[1]{A}{}}\quad\infer[2]{\lnot\p{A\lor\lnot
          A}}{}}}}}\quad\infer[2]{\lnot\p{A\lor\lnot A}}{}}}}}$$
        </p>
      </details>
    </details>

    <h2>古典論理の定理</h2>
    <h3>トートロジー</h3>
    <h3>命題関数に関する定理</h3>
    <h3>量化子に関する定理</h3>

    <h2>等価性</h2>
    <p>
      以前に$=$と$\iff$は相等関係であると説明した．相当関係とは等価性を満たすものであるが，等価性は反射律かつ代入原理である．$=$は集合に対する相等関係と定義されているが，$\iff$は別の定義が既に存在しているので，その定義で相等関係となるかを調べる必要がある．
    </p>
    <dl>
      <h4>定理</h4>
      <dt>$\iff$の反射律</dt>
      <dd>
        任意の論理式$A$について，
        $$A\iff A$$
      </dd>
      <dt>$\iff$の代入原理</dt>
      <dd>
        任意の論理式$A,B$，任意の論理式を引数とする論理式$F\p{X}$について，
        $$A\iff B,F\p{A}\To F\p{B}$$
      </dd>
      <h4>定義</h4>
      <dt>$=$の反射律</dt>
      <dd>
        項$a$について，
        $$a=a$$
      </dd>
      <dt>$=$の代入原理</dt>
      <dd>
        項$a,b$，算術演算子$f\p{x}$について，
        $$\forall ab,a=b\To f\p{a}\iff\p{b}$$
      </dd>
    </dl>
    <details>
      <summary>$\iff$が反射律を満たす証明</summary>
      <p>
        $$A\iff A$$
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          同一律より，$A\to A$であるから成り立つ．
        </p>
      </details>
    </details>
    <details>
      <summary>$\iff$が代入原理を満たす証明
      </summary>
      <p>
        任意の論理式$A,B$，任意の論理式を引数とする論理式$f\p{X}$について，
        $$A\iff B,f\p{A}\To f\p{B}$$
      </p>
      <details class="sub">
        <summary>証明</summary>
        <p>
          論理式は再帰的定義によって定義されていたため，論理式$f$の数学的帰納法によって証明する．
        </p>
        <p>

        </p>
      </details>
    </details>
  </main>
  <footer>Copyright &copy; raygo All Rights Reserved since 2016.</footer>
</body>

</html>